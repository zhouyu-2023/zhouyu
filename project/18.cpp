#include <string>
#include <cmath>
#include <stack>
#include <iostream>
#include <cctype>
#include <cstdlib>

#include "18.h"

#include <vector>

int main() {
    // 测试表达式
    std::vector<std::string> test_cases = {
        "4.04-2.87*3.92-0.48", // 测试用例
        "7.1/(2.1*4.5)-(2.3+6.4)",
        "54.9265320774/54.4341434851-(74.4881498568-47.6602599601/92.375151299+((33.0561997213+((96.3232440633-(49.1967363863+(20.2751618159+((94.1415548544+((74.0325854565*67.4373197061*((96.334598655-38.3830023553-73.1466471621)/19.5201066834/12.0217935676)+(53.7281295875+(4.87355620248-(71.8724056547+(31.8143763654+77.8470649565/89.2895780246+0.240317941699/(56.6768886188*3.76045978716+45.3819139035+21.6630544098))))))/86.780383039-(32.3973210138/(14.2437201725/29.0330001221)/60.2844883828+18.6715452742-(79.7998343547+16.6711898792))-(36.1570339268+13.6406103181))/9.97268255101)/((74.1390271751*(59.18288975+74.6310815622)*20.4466615385-3.09316560232)/(54.570182705*(93.5686619937*90.3444894567/((12.0187937776+75.2003417525/(29.1931879076*91.6047865273))/((96.502829156+(43.1519083546-79.0025149889))*(97.992785647*(37.8796537029/(20.3815196455*((10.8491069197/62.0389932445-20.8399720073)*(11.4458611495/64.7660701686))*(82.5216041604-72.858638636+(15.7865273803+0.720592122693-(27.8874182906*(85.5484963128+29.9806784675*99.7916350141+(((75.64508784-93.5040339812*70.4803128425)*44.5256905734-39.0010786799)*0.593555602383*43.912186088-86.3617057415)+61.6860348176)+16.6543783426)/80.9140412791/61.8353841272)))-99.6712137944)/73.1406465809))*96.4714128982*3.67992920887)+43.7406577505)/51.4474656785)-3.89895397329)+74.6298753132-46.008289197))-91.2299407858)*94.19075942)/66.3493173351-28.7463521419)/33.1687260962)*79.1088578941-(6.25321718544+(14.6465416566+21.0325876998))))",
        "6/(2+4)-(1+2)/3",
        "(2.1+1.1)/2",
        "3+5",
        "10-2*3",
        "(1+2)*3",
        "5+(2-1)",
        "2*(2+3*(1+2))",
        "1.1*2+3",
        "0.7+0.6",
        "1+(-1)",
        "(-2)/1+3",
        "3*((-2)*3+1)",
        "(2+3)))",
        "(1+2", 


        "((2)",
        "1++2",
        "*3+5",
        "-2*3",
        "(2+3)*4",
        "2@3",
        "10/(5*1)-5", 
    };

    for (const auto& test_case : test_cases) {
        std::cout << "Testing expression: " << test_case << std::endl;
        evaluate_expression(test_case);
        std::cout << std::endl;
    }

    return 0;
}
